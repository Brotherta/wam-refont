# docker-compose.yml
version: "3.3"
services:
  frontend:
    build: ./public
    ports:
      - "5002:5002"
    environment:
      - PORT=5002
      - HTTPS=false
      - BACKEND_URL=http://localhost:6002
      - BANK_PLUGIN_URL=http://localhost:7002/src/index.js
    restart: always


  backend:
    build: ./server
    ports:
      - "6002:6002"
    environment:
      - PORT=6002
      - STORAGE_DIR=/data/storage
    volumes:
      - projects:/data/storage
    restart: always

  bank:
    build: ./bank
    ports:
      - "7002:7002"
    environment:
      - PORT=7002
      - HTTPS=false
    restart: always

volumes:
    projects:
